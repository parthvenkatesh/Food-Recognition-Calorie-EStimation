{"ast":null,"code":"const fs = require('fs');\n\nconst papa = require('papaparse');\n\nimport isTypedArray from 'lodash/isTypedArray';\nimport reverse from 'lodash/reverse';\nimport sortBy from 'lodash/sortBy';\nimport take from 'lodash/take';\nimport { food101Classes } from './food101';\nexport function food101topK(classProbabilities, k = 5) {\n  const probs = isTypedArray(classProbabilities) ? Array.prototype.slice.call(classProbabilities) : classProbabilities;\n  const sorted = reverse(sortBy(probs.map((prob, index) => [prob, index]), probIndex => probIndex[0]));\n  const topK = take(sorted, k).map(probIndex => {\n    const iClass = food101Classes[probIndex[1]];\n    return {\n      id: probIndex[1],\n      name: iClass.replace(/_/, ' '),\n      probability: probIndex[0]\n    };\n  });\n  return topK;\n}\n;\nexport function con(val) {\n  console.log(val);\n  return val;\n}","map":{"version":3,"sources":["/home/parth/Documents/mini/Food-Detect/src/utils.js"],"names":["fs","require","papa","isTypedArray","reverse","sortBy","take","food101Classes","food101topK","classProbabilities","k","probs","Array","prototype","slice","call","sorted","map","prob","index","probIndex","topK","iClass","id","name","replace","probability","con","val","console","log"],"mappings":"AAAA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,WAAD,CAApB;;AACA,OAAOE,YAAP,MAAyB,qBAAzB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,SAASC,cAAT,QAA+B,WAA/B;AAEA,OAAO,SAASC,WAAT,CAAqBC,kBAArB,EAAyCC,CAAC,GAAG,CAA7C,EAAgD;AACrD,QAAMC,KAAK,GAAGR,YAAY,CAACM,kBAAD,CAAZ,GACVG,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BN,kBAA3B,CADU,GAEVA,kBAFJ;AAIA,QAAMO,MAAM,GAAGZ,OAAO,CACpBC,MAAM,CACJM,KAAK,CAACM,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,KAAiB,CAAED,IAAF,EAAQC,KAAR,CAA3B,CADI,EAEJC,SAAS,IAAIA,SAAS,CAAC,CAAD,CAFlB,CADc,CAAtB;AAOA,QAAMC,IAAI,GAAGf,IAAI,CAACU,MAAD,EAASN,CAAT,CAAJ,CAAgBO,GAAhB,CAAoBG,SAAS,IAAI;AAC5C,UAAME,MAAM,GAAGf,cAAc,CAACa,SAAS,CAAC,CAAD,CAAV,CAA7B;AACA,WAAO;AACLG,MAAAA,EAAE,EAAEH,SAAS,CAAC,CAAD,CADR;AAELI,MAAAA,IAAI,EAAEF,MAAM,CAACG,OAAP,CAAe,GAAf,EAAoB,GAApB,CAFD;AAGLC,MAAAA,WAAW,EAAEN,SAAS,CAAC,CAAD;AAHjB,KAAP;AAKD,GAPY,CAAb;AAQA,SAAOC,IAAP;AACD;AAAA;AAED,OAAO,SAASM,GAAT,CAAaC,GAAb,EAAiB;AACvBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,SAAOA,GAAP;AACA","sourcesContent":["const fs = require('fs');\nconst papa = require('papaparse');\nimport isTypedArray from 'lodash/isTypedArray';\nimport reverse from 'lodash/reverse';\nimport sortBy from 'lodash/sortBy';\nimport take from 'lodash/take';\nimport { food101Classes } from './food101';\n\nexport function food101topK(classProbabilities, k = 5) {\n  const probs = isTypedArray(classProbabilities)\n    ? Array.prototype.slice.call(classProbabilities)\n    : classProbabilities;\n\n  const sorted = reverse(\n    sortBy(\n      probs.map((prob, index) => [ prob, index ]),\n      probIndex => probIndex[0]\n    )\n  );\n\n  const topK = take(sorted, k).map(probIndex => {\n    const iClass = food101Classes[probIndex[1]];\n    return {\n      id: probIndex[1],\n      name: iClass.replace(/_/, ' '),\n      probability: probIndex[0]\n    };\n  });\n  return topK;\n};\n\nexport function con(val){\n\tconsole.log(val);\n\treturn val;\n}\n"]},"metadata":{},"sourceType":"module"}